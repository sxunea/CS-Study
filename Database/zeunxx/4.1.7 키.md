# 키

데이터베이스에서 조건에 만족하는 튜플을 찾거나 순서대로 정렬할 때 다른 튜플들과 구별할 수 있는 유일한 기준이 되는 속성

- 테이블 간의 관계를 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치

![image](https://github.com/zeunxx/Inflearn-Spring-RoadMap/assets/81572478/6527b0bf-d776-4ffb-a65e-16dc553d9d84)

## 키의 종류

### 슈퍼키 
: 유일성을 만족하는 키 ex) {학번+이름}, {주민번호+학번}


![image](https://github.com/zeunxx/Inflearn-Spring-RoadMap/assets/81572478/2648020a-f674-4ce5-88f9-7d8a3f593e8a)
- 7조라는 팀에 4명의 팀원이 있을때
- 이 4명을 구분할 수 있는 것은 절대 겹치지 않는 학번일수도 있고, 주민번호일수도 있음
- 이름과 나이를 묶어서 하나의 속성으로 만드는 것도 가능
➡ 어떤 속성끼리 묶던 **중복값이 안나오고 서로 구별**할 수 있으면 슈퍼키


<BR>

### 복합키 : 2개 이상의 속성을 사용한 키

<BR>


### 후보키 
: 유일성과 최소성을 만족하는 키. 기본키가 될 수 있는 후보 ex) 주민번호, 학번


![image](https://github.com/zeunxx/Inflearn-Spring-RoadMap/assets/81572478/6683dbcc-bffa-4184-920c-137028ba781f)
- 위 4명을 구분하는 슈퍼키들이 모인 가운데, **슈퍼키들 중에서 속성은 최소한의 갯수**로 4명을 구분할 수 있어야 후보키
- 학번 슈퍼키와 주민번호 슈퍼키는 속성이 1개씩 이루어짐 BUT 이름+나이 슈퍼키는 2개의 속성으로 이루어지므로 후보키 제외(**최소성 만족 못함**)


<BR>

### **기본키** 

: 후보키에서 선택된 키. NULL 값이 들어갈 수 없으며, 기본키로 선택된 속성은 동일한 값이 들어갈 수가 없다.

![image](https://github.com/zeunxx/Inflearn-Spring-RoadMap/assets/81572478/88ee471f-551a-4915-bb84-81cc5377fcc9)
- **후보키 중에서 하나를 선택한 키로 최소성과 유일성을 만족**하는 속성
- 테이블에서 기본키는 오직 **1개**
- 기본키는 **NULL값과 중복값 불가** 

<BR>

### 대체키 
: 후보키 중에 기본키로 선택되지 않은 키

![image](https://github.com/zeunxx/Inflearn-Spring-RoadMap/assets/81572478/dbd03812-afec-420a-ada1-390485d9db9f)
- 후보키가 두개 이상일 경우 그 중에서 하나를 **기본키로 지정하고 남은 후보키**
- 후보키로 학번과 주민번호가 뽑히고, 둘 중에서 **기본키는 학번**이 되었다. 남은 후보키인 **주민번호는 대체키**가 되고, 학번 기본키가 없어지면 주민번호는 없어진 기본키를 대체 가능


<BR>

### **외래키** 
: 어떤 테이블간의 기본키를 참조하는 속성. 테이블간의 관계를 나타내기 위해 사용

- 참조될 테이블이 먼저 만들어지고 참조하는 테이블에 값이 입력되어야 한다
- 참조될 열의 값은 해당 테이블에서 기본키로 설정되어야 한다.
- 외래키는 참조되는 테이블의 기본키와 동일한 키속성을 가진다.
- 부모테이블 먼저 삭제될 수 없다. 왜냐하면 자식테이블이 남아있는데 해당 테이블은 참조하는 것이 삭제되므로 외래키 오류 발생! = 자식테이블 먼저 삭제

![image](https://github.com/zeunxx/Inflearn-Spring-RoadMap/assets/81572478/31ff8562-9d0e-4495-a78b-e064ad4f047c)
- 부모테이블: 학생테이블, 자식테이블 : 수강테이블
- 학생테이블은 학번이 기본키이자, 참조되는 참조키
- 수강테이블은 학번이 참조하는 키이자 외래키