# 3.3.3 프로세스의 메모리 구조

운영체제는 **프로세스에 적절한 메모리를 할당**하는데, 다음 구조를 기반으로 한다

![image](https://github.com/sxunea/CS-Study/assets/81434152/4894ae6c-99c9-4a18-a1d1-4e84024ef53c)

## 정적 할당과 동적 할당
정적 할당 : 컴파일 타임에서 메모리 할당

동적 할당 : 런타임에서 메모리 할당

## 스택
**스택** 영역은 데이터를 일시적으로 저장하는 부분이며, 동적 할당되며, **컴파일 타임에 크기가 결정**된다

지역 변수, 매개 변수, 실행되는 함수에 의해 늘어나거나 줄어드는 메모리 영역이다. 함수가 호출될 때마다 호출될 때의 환경 등 특정 정보가 스택에 계속해서 저장된다. 재귀 함수가 호출될 때, 새로운 스택 프레임이 매번 사용되기 때문에 함수 내의 변수 집합이 해당 함수의 다른 인스턴스 변수를 방해하지 않는다

아래방향(밑으로) 커진다

## 힙

**힙** 영역은, 동적 할당되며, **런타임에 크기가 결정**된다.

malloc(), free() 함수를 통해 관리할 수 있으며 동적으로 메모리를 할당하려 할 때 사용하고 해제하는 부분이다

위로 커진다

## 데이터

**데이터** 영역은 프로그램의 가상 주소 공간으로, **정적 할당**된다 

BSS Segment 
- 정적(static) 변수 혹은 전역(Global) 변수가 선언되어있고, 0으로 초기화 또는 초기화가 되어있지 않은 변수들이 할당된다

Data Segment
- 정적(static) 변수 혹은 전역(Global) 변수가 선언되어있고, 0이 아닌 값으로 초기화된 변수들이 할당된다

Code Segment
- 프로그램의 코드가 들어간다


## 코드
**텍스트** 영역은 실행 명령을 포함하는 **코드**들이 들어가는 부분이다

프로그램을 시작 할 때 컴파일한 프로그램이 저장되어 있고, **읽기 전용**영역이기에 프로세스가 함부로 변경 할 수 없고 변경 시 오류를 발생시킨다