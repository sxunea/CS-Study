# 3.3.2 프로세스의 상태

![image](https://github.com/sxunea/CS-Study/assets/81434152/6ddab160-338b-4b6b-a6a9-216a65168c60)

## 프로세스의 상태

### 생성 (new)
프로세스가 PCB를 가지고 있지만 OS로부터 승인(admit)받기 전의 상태이다
- **fork**()
    - 부모 프로세스의 공간을 그대로 복사하면서 새로운 자식 프로세스를 생성한다. 주소 공간만 복사할 뿐이지, 부모 프로세스의 비동기 작업 등을 상속하지는 않는다.
- **exec**()
    - 새롭게 프로세스를 생성하는 함수이다. fork()와 달리 새로운 프로세스를 위한 메모리를 할당하지는 않는다. exec() 실행의 결과로 생성되는 새로운 프로세스는 없고, 호출한 프로세스의 PID가 새로운 프로세스에 적용이 되므로 덮여지는 형태를 가진다.


### 준비(ready)
- 프로그램이 메인 메모리에 적재되어 프로세스가 된 상태이다
- CPU에 의해 실행되를 기다리고 있는 상태이며 준비 상태에 있는 프로세스들은 큐에서 대기하고 있다

### 실행(running)
- 프로세스가 CPU 소유권과 메모리를 할당받고, 인스터럭션을 수행 중인 상태를 의미한다. (CPU burst)

### 대기(waiting)
- 메모리 공간이 충분하면 메모리를 할당받고 아니면 그대로 대기한다
- 따라서 CPU 스케줄러로부터 CPU 소유권이 넘어오기를 기다리는 상태이다

### 중단(blocked)
- 어떤 이벤트가 발생된 후 기다리며 프로세스가 차단된 상태이다
- I/O 디바이스에 의한 인터럽트가 그 예시이다

### 종료(terminated)
- 메모리와 CPU 소유권을 모두 놓고 가는 상태를 말한다
    - 부모 프로세스가 자식 프로세스를 강제 종료시키는 비자발적 종료(abort)
        - 자원의 한계치를 넘어서거나, kill() 등의 명령어 사용
    - 자연스러운 자발적 종료


## 프로세스의 상태 전이

### Dispatch (ready -> running)
여러 프로세스들 중 한 프로세스를 선정하여 CPU에 할당하는 과정이다
### Interrupt (running -> ready)
할당된 CPU 시간이 지나면 Timeout Interrupt 가 발생하여 CPU를 다른 프로세스에게 양도하고 자신은 ready 상태로 전이되는 과정이다
### Block (running -> waiting)
I/O 등의 자원 요청 후 즉시 할당받을 수 없어, 할당받을 때까지 기다리기 위해 running에서 waiting 상태로 전이되는 과정이다

I/O 처리는 CPU가 아닌 I/O 프로세스가 담당하기 때문에 block이 발생한다

### Wakeup (waiting -> ready)
필요한 자원이 할당되면 프로세스는 waiting에서 ready 상태로 전이되는 과정이다