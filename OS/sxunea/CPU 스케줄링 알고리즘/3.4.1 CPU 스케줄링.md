# 3.4.1 CPU 스케줄링

## 스케줄링
멀티 프로세싱에서 프로세서(CPU)를 할당할 프로세스를 선택할 때에는 특정한 전략, 즉 정책이 필요한데, 이때 스케줄링이란 개념이 등장한다. 여러 프로세스가 번갈아 사용하는 자원을 **어떤 시점에서 어떤 프로세스에 할당**할 지 결정하는 것을 **스케줄링**이라고 한다

이러한 스케줄링은 시스템의 성능에 영향을 미치고, 다음과 같은 목적을 가진다
- 자원 할당의 공정성 보장
- 단위시간 당 처리량 최대화
- 오버헤드 최소화
- 자원 사용, 반환시간과 자원 활용 간의 균형 유지
- 실행 대기 방지

### 스케줄링의 단계

![image](https://github.com/gdsc-konkuk/Plantory-Android/assets/81434152/d61c053b-ff27-491f-bc6b-43af7f97945c)

1. **작업 스케줄링** : 작업 선택

    디스크에 있는 작업 중 프로세스화할 작업과 시스템에 들어갈 작업을 결정하므로 승인 스케줄링이라고도 한다. 수행 빈도가 적어 장기 스케줄링에 해당한다

2. **작업 승인과 프로세서 결정 스케줄링** : 사용 권한 부여

    프로세서를 사용할 권한을 부여하는 프로세스를 결정하는 작업 승인과, 프로세서 할당 스케줄링이다. 시스템의 오버헤드에 따라 연기할 프로세스를 잠정적으로 결정한다

3. **프로세서 할당 스케줄링** : 준비 상태의 프로세스에 프로세서 할당 (디스패칭)

    준비 상태에 있는 프로세스 중에서 프로세서를 할당할 프로세스를 결정하는 스케줄링으로, 스케줄링 알고리즘은 이 3단계 스케줄링에 해당한다


## 스케줄링 큐

<br>

## 스케줄러의 종류와 역할

<br>

## 선점 스케줄링과 비선점 스케줄링 

선점 스케줄링과 비선점 스케줄링은 '실행 중인 작업이나 프로세스를 실행 중 중단할 것인가?' 하는 관점을 바탕으로 스케줄링을 구분한 것이다

### 비선점 스케줄링
한 프로세스가 자원을 선택했을 때 다른 프로세스가 해당 자원을 **빼앗을 수 없다면** 비선점 스케줄링이다

비선점형 스케줄링에서는 실행 시간이 짧은 프로세스가 실행 시간이 긴 프로세스를 기다리는 대신 공평하게 관리한다. 우선순위가 높은 프로세스를 입력해도 방해받지 않으므로 응답시간을 예측하기 쉽다

### 선점 스케줄링
현재 실행 중인 프로세스를 **인터럽트할 수 있거나 준비 상태로 이동**할 수 있다면 선점 스케줄링이다. 

선점 스케줄링은 프로세스 하나가 장시간 동안 프로세스를 독점하는 것을 막을 수 있기 때문에 모든 프로세스에 프로세서를 할당할 기회를 늘릴 수 있다. 빠른 응답시간을 요하는 실시간 시스템과 같은 우선 순위가 높은 프로세스들이 긴급 처리르 요청할 때 유용하다. 하지만 선점 스케줄링은 오버헤드가 커질 수 있어 프로세서를 사용 가능할때마다 실행할 수 있는 프로세스들이 준비상태에 있어야 효과적이다. 

## 스케줄링 알고리즘의 선택 기준

![image](https://github.com/gdsc-konkuk/Plantory-Android/assets/81434152/ee4291eb-9bdb-4887-995f-00b4fe15dca5)

- 프로세서 사용률

- 처리율

- 반환 시간

- 대기 시간

- 반응 시간

<br>

스케줄링 알고리즘을 선택할 때에는 처리율과 프로세서 사용률은 최대화하면서, 반환 시간, 대기 시간, 응답 시간은 최소화 하는 것이 가장 바람직하다 