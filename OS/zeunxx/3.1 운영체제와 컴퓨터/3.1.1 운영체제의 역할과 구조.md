# 운영체제의 역할과 구조

## 운영체제란?

![image](https://github.com/zeunxx/Inflearn-Spring-RoadMap/assets/81572478/dd4ffe2c-b3e9-4132-a44e-f9e790bd5d22)


컴퓨터 시스템의 핵심 **소프트웨어**로, 컴퓨터 하드웨어와 응용 프로그램간의 상호작용을 관리하고 제어하는 역할을 한다.

- OS의 목적 : **사용자와 하드웨어 사이의 인터페이스를 제공**해 효율적으로 응용 프로그램이 동작하도록 지원하고, **시스템 자원을 효율적으로 관리**해 응용 프로그램이 원활히 동작할 수 있게 함


- OS의 역할
    - CPU 스케줄링과 프로세스 관리: CPU 소유권을 어떤 프로세스에게 할당할지, 프로세스 생성과 삭제, 자원 할당 및 반호나을 관리
    - 메모리 관리: 한정된 메모리를 어떤 프로세스에 얼마나 할당해야 할지 관리
    - 디스크 파일 관리: 디스크 파일을 어떤 방법으로 보관할지 관리
    - I/O 디바이스 관리: I/O 디바이스들인 마우스, 키보드와 컴퓨터간 데이터를 주고 받는 것 관리

    <BR>

### 커널 Kernel

![image](https://github.com/zeunxx/Inflearn-Spring-RoadMap/assets/81572478/53c85d35-f04d-4969-bf9b-93c15699f5c4)

커널은 운영체제 중 항상 메모리에 올라가 있는 **운영체제의 핵심 부분**으로써, 하드웨어와 응용 프로그램 사이에서 **인터페이스를 제공하는 역할**을 하며 **컴퓨터 자원들을 관리하는 역할**


<br>

➡️ 커널은 인터페이스로써 응용 프로그램 수행에 필요한 여러가지 서비스를 제공하고, 여러가지 하드웨어(CPU, 메모리)등의 리소스를 관리하는 역할을 한다.


<BR>

BUT, 커널은 항상 컴퓨터 자원만을 바라보고 있기 때문에 사용자와의 상호작용은 지원하지 않는다. 따라서, 사용자와의 직접적인 상호작용을 위해 쉘(Shell)등의 프로그램을 제공한다.


<br>

- **커널의 주요 기능**
    - 프로세스(or thread) 관리 및 CPU 스케쥴링
    - 메모리 관리
    - I/O 디바이스 관리
    - IPC: 한 컴퓨터 내부의 프로세스끼리 통신 도와줌
    - 네트워크: 다른 컴퓨터와의 통신 가능케 함
    - File system
        - logical I/O: 유저가 생각하는 logical I/O와 컴퓨터의 physical I/O 사이의 맵핑
        - 계층적 폴더 구조 지원
        - 파일 저장 및 삭제, 접근 권한에 따른 파일 보호




<br>

### System Call

메모리는 유저 스페이스와 커널 스페이스로 구분된다. 각 두 공간은 분리되어 서로 침법하지 않는다.



대부분의 코드와 Library Function은 유저 스페이스에서 돌아가는데, 이중 OS(커널)에서 제공하는 function(커널이 가진 자원을 사용하는 function)은 커널안에서 돌아간다. 

- 프로세스(실행 중인 유저 프로그램)가 user space에서 돌다가 system call을 하면 kernel 속으로 trap해서 돌아간다.

- **system call function**
    - 커널 속에 상주하고, 유저 프로그램(프로세스)에 의해 call 됨
    - 커널 속 인터럽트 핸들러는 외부에서 접근할 수 없음, 이에 접근하기 위해 외부 인터페이스 역할을 하는 것이 '시스템 콜'

<br>

- **시스템 콜에 의해 제공되는 서비스**
    - process 생성과 관리
    - main memory 관리
    - file 접근, directory와 file system 관리
    - I/O device 제어
    - protection
    - networking