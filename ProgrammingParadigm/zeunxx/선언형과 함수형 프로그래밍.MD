# 선언형과 함수형 프로그래밍

## 선언형 프로그래밍이란?

**무엇을** 풀어내는가 집중하는 패러다임

*프로그램은 함수로 이루어진 것이다* 라는 명제가 담겨있는 패러다임

- 함수형 프로그래밍은 선언형 패러다임의 일종


## 함수형 프로그래밍이란?

자료 처리를 수학적 함수의 계산으로 취급하고 상태와 가변 데이터를 멀리하는 프로그래밍 패러다임의 하나

- 함수형 프로그래밍은 작은 **'순수 함수'**들을 불록처럼 쌓아 로직을 구현하고, **'고차 함수'**를 통해 재사용성을 높인 프로그래밍 팰다임

### 순수 함수

출력이 입력에만 의존하는 것
```
const pure = (a,b)=>{
    return a+b
}
```


### 고차 함수

함수가 함수를 값처럼 매개변수로 받아 로직을 생성할 수 있는 것

이때, 고차함수를 쓰기 위해선 해당 언어가 일급 객체라는 특징을 가져야 하며 그 특징은 다음과 같다.

- 일급 객체
    - 변수나 메서드에 함수를 할당할 수 있다.
    - 함수 안에 함수를 매개변수로 담을 수 있다.
    - 함수가 함수를 반환할 수 있다.


함수형 프로그래밍에서는 **함수는 1급 객체로 취급**받기 때문에 함수를 파라미터로 넘기는 등의 작업이 가능하다.





## Java에서의 함수형 프로그래밍

Java는 객체 지향 프로그래밍 언어다. 그러나 Java는 함수형 프로그래밍과 비동기 논블로킹의 기능을 도입하기 위해 Java8 부터 Optional과 람다식, NodeJS 처럼 비동기 논블로킹 방식을 도입했다.

## 함수형 프로그래밍의 장점

1. 변수가 불변

불변이 아닌 변수는 예상치 못한 상황에 예상치 못한 값으로 변경될 가능성이 있다. 

함수형 프로그램은 대입문이 없기 때문에 기본적으로 한 번 값이 변수에 할당되고 나면 이후에 값이 변경되지 않는다.

부수효과(Side Effect)가 발생하지 않기 때문에 표현 식을 언제 어느 때 실행하더라도 문제가 발생하지 않으며 이는 프로그래머가 신경 쓸 부분을 줄여주는 셈이다.


= 참조 투명성을 가진 프로그램


➡️ 참조 투명성을 지녔기때문에 함수형 프로그래밍은 멀티 코어 프로세스에서 교착상태에 빠지지 않는다.


> side effect
>
> 함수의 실행으로 함수 외부 상태가 변경되는 것을 뜻한다.
> - 함수외부 변수의 값이 변경됨
> - 예외나 오류로 인하여 프로그램이 중단됨


2. 함수가 하는 일이 명확

함수가 하는 일이 명확히 정의되어 코드를 이해하기 쉽고, 함수를 값으로 사용할 수 있다.
또한, 익명 함수 사용 가능

EX.
```
List<Integer> values = Arrays.asList(7, 5, 123, 5, 42, 95, 68, 30, 42);

    List<Integer> result = values.stream()
        .filter(number -> number < 50)
        .distinct()
        .sorted(Integer::compare)
        .collect(Collectors.toList());

위 형태를 한글로 해석한다면

List<Integer> 숫자가_담긴_리스트 = Arrays.asList(7, 5, 123, 5, 42, 95, 68, 30, 42);

    List<Integer> 연산_결과 = 숫자가_담긴_리스트.스트림으로_변경()
        .필터링(숫자 -> 50 미만 숫자)
        .중복제거()
        .정렬(Integer 타입의 compare 메서드 방식으로)
        .스트림_연산_결과를_합침(Collectors 의 toList 메서드로 List 결과를 반환);
```

3. Optional

자바에서 Null 문제를 해결하기 위해 Java 는 Optional 을 도입했다.


✅ Optional :  Null 이 될 가능성을 가진 값을 객체로 감싸는 래퍼 클래스


Null 을 직접 다루면 위험한 상황이 발생하거나 굉장히 까다롭다. 이를 Optional 객체에 포장함으로써 유연한 처리가 가능해 진다. Null 을 Optional 에 포장하게 되면 Null 을 값으로 보고 로직을 구현할 수 있다.