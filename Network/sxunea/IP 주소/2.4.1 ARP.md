# 2.4.1 ARP

ARP는 주소 결정 프로토콜로, 네트워크 상에서 IP주소를 물리적 네트워크 주소로 대응하기 위해서 사용된다. 즉, IP 주소와 MAC주소를 매칭시키기 위해 쓰인다. 

### IP 주소
IP 주소는 각각의 컴퓨터 기기가 서로 통신하기 위해 가지고 있는 네트워크 주소이다. 네트워크 관리자 또는 인터넷 서비스 공급자가 제공받기 때문에 고유하지는 않다.


### MAC 주소
데이터 링크 계층에서 통신을 위한 네트워크 인터페이스에 할당된 고유 식별자로, NIC를 가지면 이 주소가 고유 주소가된다. 

![image](https://github.com/sxunea/CS-Study/assets/81434152/b42b69f7-ec82-46d2-9b85-329973f44728)


같은 IP 대역을 공유하는 LAN에서 단말간 통신을 하기 위해서 사용자는 IP 주소를 목적지로 정하지만, 실제로는 MAC 주소를 이용해 목적지를 찾는다. 따라서 이 둘을 매칭하기 위해 ARP가 사용된다. 

ARP는 IP 주소와 MAC 주소를 일대일 대응하여 테이블(ARP Table)로 정리하고 전달한다. 

- PC0이 PC1로 데이터를 전달하려고 할때, 먼저 라우팅 테이블을 보고, 자신과 같은 LAN에 속한다는 것을 알게 된다. 따라서 PC2의 MAC 주소를 알기 위해 ARP Broadcast Request를 보낸다(*** 이 IP 주소 누구야?)
    - Broadcast : 송신자가 보내는 데이터가 연결된 모든 네트워크 호스트에 전달되는 방식

- PC0은 이 request를 PC 1,2,3에게 뿌리게 되고 PC1은 이에 반응해 Response인 자신의 MAC 주소(*** 이거 나야 !)를 보낸다. 

- PC0은 PC1이 보낸 ARP Response를 받고 ARP Table에 Pc1의 IP주소와 MAC 주소를 적는다. 그리고 데이터를 보내기 위해 이 테이블을 살피고 전달한다